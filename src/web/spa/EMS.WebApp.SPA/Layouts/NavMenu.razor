@using EMS.WebApp.SPA.Handlers
@inject IIdentityHandler IdentityHandler
@inject NavigationManager Navigation﻿
<MudNavMenu>
	<MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
	<MudNavLink Href="/servicos" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Work">Serviços</MudNavLink>
	<MudNavGroup Title="Pessoas" Expanded="false" Icon="@Icons.Material.Filled.PeopleAlt">
		<MudNavLink Href="/colaboradores" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Person">Colaboradores</MudNavLink>
		<MudNavLink Href="/clientes" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Person">Clientes</MudNavLink>
	</MudNavGroup>
	<MudNavLink Href="#" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Logout" OnClick="LogoutAsync">Sair</MudNavLink>
	@*#if (IndividualLocalAuth)
	<MudNavLink Href="auth" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">Auth Required</MudNavLink>

	<AuthorizeView>
	<Authorized>
	<MudNavLink Href="Account/Manage" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">@context.User.Identity?.Name</MudNavLink>
	</Authorized>
	<NotAuthorized>
	<MudNavLink Href="Account/Register" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">Register</MudNavLink>
	<MudNavLink Href="Account/Login" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">Login</MudNavLink>
	</NotAuthorized>
	</AuthorizeView>
	##endif*@

</MudNavMenu>
@code {
	private void LogoutAsync()
	{
		// await IdentityHandler.Logout();
		Navigation.NavigateTo("/login");
	}
}